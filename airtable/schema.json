{
  "baseName": "Video Processing Pipeline",
  "tables": [
    {
      "name": "Processed Videos",
      "description": "Tracks all video files processed through the compression pipeline",
      "fields": [
        {
          "name": "File Name",
          "type": "singleLineText",
          "description": "Original filename from upload",
          "options": {
            "primaryField": true
          }
        },
        {
          "name": "Original Size (MB)",
          "type": "number",
          "description": "File size before compression in megabytes",
          "options": {
            "precision": 2
          }
        },
        {
          "name": "Compressed Size (MB)",
          "type": "number",
          "description": "File size after compression in megabytes",
          "options": {
            "precision": 2
          }
        },
        {
          "name": "Duration (seconds)",
          "type": "number",
          "description": "Video length in seconds",
          "options": {
            "precision": 0
          }
        },
        {
          "name": "Processing Time (minutes)",
          "type": "number",
          "description": "Time taken to compress the video",
          "options": {
            "precision": 2
          }
        },
        {
          "name": "Status",
          "type": "singleSelect",
          "description": "Current processing status",
          "options": {
            "choices": [
              {
                "name": "Processing",
                "color": "yellowBright"
              },
              {
                "name": "Completed",
                "color": "greenBright"
              },
              {
                "name": "Failed",
                "color": "redBright"
              },
              {
                "name": "Retrying",
                "color": "orangeBright"
              }
            ]
          }
        },
        {
          "name": "Original Uploader",
          "type": "singleLineText",
          "description": "Email address of the user who uploaded the file"
        },
        {
          "name": "Upload Date",
          "type": "dateTime",
          "description": "When the file was uploaded to Google Drive",
          "options": {
            "dateFormat": {
              "name": "local",
              "format": "l"
            },
            "timeFormat": {
              "name": "24hour",
              "format": "HH:mm"
            },
            "timeZone": "client"
          }
        },
        {
          "name": "Processing Date",
          "type": "dateTime",
          "description": "When compression processing started",
          "options": {
            "dateFormat": {
              "name": "local",
              "format": "l"
            },
            "timeFormat": {
              "name": "24hour",
              "format": "HH:mm"
            },
            "timeZone": "client"
          }
        },
        {
          "name": "Completion Date",
          "type": "dateTime",
          "description": "When compression processing finished",
          "options": {
            "dateFormat": {
              "name": "local",
              "format": "l"
            },
            "timeFormat": {
              "name": "24hour",
              "format": "HH:mm"
            },
            "timeZone": "client"
          }
        },
        {
          "name": "Original URL",
          "type": "url",
          "description": "Link to the original file in Google Drive"
        },
        {
          "name": "Compressed URL",
          "type": "url",
          "description": "S3 URL of the compressed video file"
        },
        {
          "name": "Resolution",
          "type": "singleSelect",
          "description": "Video resolution",
          "options": {
            "choices": [
              {
                "name": "720p",
                "color": "blueBright"
              },
              {
                "name": "1080p",
                "color": "cyanBright"
              },
              {
                "name": "4K",
                "color": "purpleBright"
              },
              {
                "name": "Other",
                "color": "grayBright"
              }
            ]
          }
        },
        {
          "name": "Compression Ratio",
          "type": "formula",
          "description": "Ratio of original size to compressed size",
          "options": {
            "formula": "ROUND({Original Size (MB)} / {Compressed Size (MB)}, 2)"
          }
        },
        {
          "name": "Job ID",
          "type": "singleLineText",
          "description": "AWS MediaConvert job identifier"
        },
        {
          "name": "Error Message",
          "type": "multilineText",
          "description": "Error details if processing failed"
        }
      ],
      "views": [
        {
          "name": "All Videos",
          "type": "grid",
          "description": "Default view showing all processed videos"
        },
        {
          "name": "Active Processing",
          "type": "grid",
          "description": "Videos currently being processed",
          "filters": {
            "conditions": [
              {
                "field": "Status",
                "operator": "is",
                "value": "Processing"
              },
              {
                "field": "Status",
                "operator": "is",
                "value": "Retrying"
              }
            ],
            "conjunction": "or"
          },
          "sorts": [
            {
              "field": "Processing Date",
              "direction": "desc"
            }
          ]
        },
        {
          "name": "Recent Completions",
          "type": "grid",
          "description": "Recently completed videos",
          "filters": {
            "conditions": [
              {
                "field": "Status",
                "operator": "is",
                "value": "Completed"
              }
            ]
          },
          "sorts": [
            {
              "field": "Completion Date",
              "direction": "desc"
            }
          ],
          "limit": 50
        },
        {
          "name": "Failures",
          "type": "grid",
          "description": "Failed processing attempts",
          "filters": {
            "conditions": [
              {
                "field": "Status",
                "operator": "is",
                "value": "Failed"
              }
            ]
          },
          "sorts": [
            {
              "field": "Processing Date",
              "direction": "desc"
            }
          ],
          "colorByField": "Status"
        },
        {
          "name": "Compression Stats",
          "type": "grid",
          "description": "View focusing on compression metrics",
          "visibleFields": [
            "File Name",
            "Original Size (MB)",
            "Compressed Size (MB)",
            "Compression Ratio",
            "Processing Time (minutes)",
            "Status"
          ],
          "sorts": [
            {
              "field": "Compression Ratio",
              "direction": "desc"
            }
          ]
        },
        {
          "name": "By Uploader",
          "type": "grid",
          "description": "Videos grouped by uploader",
          "groupByField": "Original Uploader",
          "sorts": [
            {
              "field": "Upload Date",
              "direction": "desc"
            }
          ]
        },
        {
          "name": "Timeline",
          "type": "calendar",
          "description": "Calendar view of processing dates",
          "dateField": "Processing Date"
        }
      ]
    }
  ],
  "metadata": {
    "version": "1.0",
    "createdDate": "2024-01-15",
    "description": "Airtable base schema for Video Compression Automation Pipeline",
    "requiredPermissions": [
      "data.records:read",
      "data.records:write"
    ]
  }
}
